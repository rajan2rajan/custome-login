{% extends "base.html" %}


{% block views %}

{% if perms.donor.delete_donor or perms.donor.edit_donor %}

<table id="customers">
  <tr>


    <th>firstname</th>
    <th>middlename</th>
    <th>lastname</th>
    <th>Age</th>
    <th>Phonenumber</th>
    <th>Timesofdonate</th>
    <th>Diseases</th>
    <th>Donatedate</th>
    <th>Location</th>
    <th>Image</th>
    <th>Gender</th>
    <th>Bloodgroup</th>
    <th>operation</th>

  </tr>

  {% for form in form %}
    <tr>
        
        <td>{{form.firstname}}</td>
        <td>{{form.middlename}}</td>
        <td>{{form.lastname}}</td>
        <td>{{form.age}}</td>
        <td>{{form.phonenumber}}</td>
        <td>{{form.timesofdonate}}</td>
        <td>{{form.diseases}}</td>
        <td>{{form.donatedate}}</td>
        <td>{{form.location}}</td>
        <td>
          <div class="image-container">
            <a href="{{ form.image.url }}" onclick="showImage('{{ form.image.url }}'); return false;">
              <img src="{{ form.image.url }}" width="100" height="100" class="image">
            </a>
          </div>
        </td>
        
        
        <td>{{form.Gender}}</td>
        <td>{{form.bloodgroup}}</td>
        <td>  <a href="{% url 'donorupdate' form.id %}"><button>edit</button></a>
          
        <a href="{% url 'donordelete' form.id %}"><button>delete</button></a> </td>
    
      </tr> 
  {% endfor %}
      
</table>
<a href="{% url 'donorform' %}"><button>add new</button></a>
<div id="popupContainer" style="display: none;">
  <div id="popupContent">
    <img id="popupImage" src="" alt="Popup Image">
  </div>
</div>
{% endif %}

<script>
  function showImage(imageUrl) {
    var overlay = document.createElement('div');
    overlay.className = 'overlay';
  
    var popOutImage = document.createElement('img');
    popOutImage.className = 'popOutImage';
    popOutImage.src = imageUrl;
  
    document.body.appendChild(overlay);
    document.body.appendChild(popOutImage);
  
    overlay.style.display = 'block';
    popOutImage.style.display = 'block';
  
    overlay.addEventListener('click', function() {
      overlay.style.display = 'none';
      popOutImage.style.display = 'none';
    });
  }
  

</script>



{% endblock views %}

    